{% extends "base.html.twig" %}

{% block title %}Fehlzeiten {{ clown.name }}{% endblock %}

{% block content %}
    {{ component('month_navigation', { active: month.key, urlKey: 'clown_availability_show', urlParams: {clownId: clown.id} }) }}
    <h4 class="pt-3">Fehlzeiten {{ clown.name }} {{ month.label }}</h4>

    {{ form_start(form) }}
        {{ form_rest(form) }}
        <div class="container">
            {% for day in schedule.days %}
                <div class="row">
                    {{ include ('partials/schedule_day_number_and_name.html.twig', {day: day}, with_context = false) }}
                    
                    <div class="col-sm-5 border">
                        <div class="text-muted">vormittags</div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('am')[0] == 'yes' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][am]" id="availability_{{ day.date }}_am_yes" value="yes">
                            <label class="form-check-label" for="availability_{{ day.date }}_am_yes">Ja</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('am')[0] == 'maybe' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][am]" id="availability_{{ day.date }}_am_maybe" value="maybe">
                            <label class="form-check-label" for="availability_{{ day.date }}_am_maybe">Wenn's sein muss</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('am')[0] == 'no' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][am]" id="availability_{{ day.date }}_am_no" value="no">
                            <label class="form-check-label" for="availability_{{ day.date }}_am_no">Nein</label>
                        </div>
                    </div>
                    <div class="col-sm-5 border">
                        <div class="text-muted">nachmittags</div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('pm')[0] == 'yes' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][pm]" id="availability_{{ day.date }}_pm_yes" value="yes">
                            <label class="form-check-label" for="availability_{{ day.date }}_pm_yes">Ja</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('pm')[0] == 'maybe' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][pm]" id="availability_{{ day.date }}_pm_maybe" value="maybe">
                            <label class="form-check-label" for="availability_{{ day.date }}_pm_maybe">Wenn's sein muss</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input {{ day.entries('pm')[0] == 'no' ? 'checked="checked"' : '' }} class="form-check-input" type="radio" name="availability[{{ day.date }}][pm]" id="availability_{{ day.date }}_pm_no" value="no">
                            <label class="form-check-label" for="availability_{{ day.date }}_pm_no">Nein</label>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <button type="submit" class="mt-3 btn btn-primary">Speichern</button>
    {{ form_end(form) }}
{% endblock %}
